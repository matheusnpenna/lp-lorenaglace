var purecookieTitle = "Este site utiliza cookies",
  purecookieDesc =
    'Este site utiliza cookies para proporcionar uma melhor experiência. Ao continuar a navegação, você concorda com tal utilização. Saiba mais em nossa <a href="https://martinbucer.com/politica-de-privacidade/" target="_blank" style="color: #02b4fa;">Política de Privacidade</a>.',
  purecookieButton = "Fechar";

function pureFadeIn(e, o) {
  var i = document.getElementById(e);
  (i.style.opacity = 0),
    (i.style.display = o || "flex"),
    (function e() {
      var o = parseFloat(i.style.opacity);
      (o += 0.02) > 1 ||
        ((i.style.opacity = o), window.requestAnimationFrame(e));
    })();
}

function pureFadeOut(e) {
  var o = document.getElementById(e);
  (o.style.opacity = 1),
    (function e() {
      (o.style.opacity -= 0.02) < 0
        ? (o.style.display = "none")
        : window.requestAnimationFrame(e);
    })();
}

function setCookie(e, o, i) {
  var t = "";
  if (i) {
    var n = new Date();
    n.setTime(n.getTime() + 24 * i * 60 * 60 * 1e3),
      (t = "; expires=" + n.toUTCString());
  }
  document.cookie = e + "=" + (o || "") + t + "; path=/";
}

function getCookie(e) {
  for (
    var o = e + "=", i = document.cookie.split(";"), t = 0;
    t < i.length;
    t++
  ) {
    for (var n = i[t]; " " == n.charAt(0); ) n = n.substring(1, n.length);
    if (0 == n.indexOf(o)) return n.substring(o.length, n.length);
  }
  return null;
}

function eraseCookie() {
  for (
    var o = e + "=", i = document.cookie.split(";"), t = 0;
    t < i.length;
    t++
  ) {
    for (var n = i[t]; " " == n.charAt(0); ) n = n.substring(1, n.length);
    if (0 == n.indexOf(o)) return n.substring(o.length, n.length);
  }
}

function cookieConsent() {
  getCookie("oce_cookie_consent") ||
    ((document.body.innerHTML += `
      <style>
        @media (min-width: 769px) {
          .cookie-consent-wrapper {
            position: fixed;
            background-color: #333;
            left: 0;
            right: 0;
            height: fit-content;
            z-index: 10000;
            bottom: 0;
            top: none;
          }
        }
        @media (max-width: 768px) {
          .cookie-consent-wrapper {
            position: fixed;
            background-color: #333;
            left: 0;
            right: 0;
            height: fit-content;
            z-index: 10000;
            top: none;
            bottom: 0;
          }

          .cookie-consent-close-btn {
            position: absolute;
            top: 0;
            right: 0;
            padding: 8px; 
            margin:0;
            height: auto !important;
            width: auto !important;
            color: #fff;
            font-size: 28px;
            line-height: 28px;
            max-height: 44px;
          }
        }
        .cookie-consent-content-wrapper {
          position: relative;
          padding: 10px;
        }
        .cookie-consent-flex-wrapper {
          display: flex; 
          align-items: center;
        }
        .cookie-consent-title {
          text-align: left;
          color: #fff;
          font-weight: bold;
          text-align: left;
        }
        .cookie-consent-description {
          color: #fff;
          margin-right: 20px;
          font-size: 12px;
          display: flex;
          align-items: center;
          margin-bottom: 7px;
          text-align: justify;
        }
        .cookie-consent-btn {
          width: fit-content;
          margin-top: 4px;
          max-height: 40px;
          cursor: pointer;
          color: #fff;
          background: #08c4ff;
          border-radius: 10px;
          padding: 5px 15px;
          margin-left: auto;
          display: inline-block;
        }
        .flex-fill {
          flex: 1 1;
        }
      </style>
      <div class="cookie-consent-wrapper" id="cookieConsentContainer">
        <div class="cookie-consent-content-wrapper cookie-consent-flex-wrapper">
          <div class="flex-fill">
            <div class="cookie-consent-flex-wrapper">
              <div class="cookie-consent-title flex-fill">${purecookieTitle}</div>
              <button 
                type="button"
                class="btn cookie-consent-close-btn d-lg-none"
                onclick="purecookieDismiss();"
              >
                &#215
              </button>
            </div>
            <div class="cookie-consent-description">
                <small>${purecookieDesc}</small>
            </div>
          </div>
          <div class="d-none d-lg-block">
            <button 
              class="btn cookie-consent-btn d-flex justify-content-center align-items-center"
              type="button"
              onclick="purecookieDismiss();"
            >
                <small style="font-size:16px;">${purecookieButton}</small>
            </button>
          </div>
        </div>
      </div>
    `),
    pureFadeIn("cookieConsentContainer"));
}
function purecookieDismiss() {
  setCookie('oce_cookie_consent', '1', 30) // for register new cookie
  pureFadeOut("cookieConsentContainer"); // for dismiss cookie
}

(function() {
  cookieConsent();
})();